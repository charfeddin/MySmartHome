<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.layout.HBox?>
<?import com.jfoenix.controls.JFXButton?>

<?import javafx.scene.shape.Circle?>


<?import javafx.scene.control.MenuButton?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.ListView?>

<BorderPane centerShape="false" depthTest="ENABLE" nodeOrientation="LEFT_TO_RIGHT" prefWidth="350.0" style="-fx-background-color: white;" xmlns="http://javafx.com/javafx/9.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.rafafx.PostItem">

    <top>
        <HBox fx:id="user_info_bar" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" minHeight="-Infinity" minWidth="-Infinity" prefHeight="70.0" prefWidth="350.0" BorderPane.alignment="CENTER">
            <children>
                <AnchorPane prefHeight="60.0" prefWidth="60.0">
                    <children>

                        <Circle fx:id="avatar_circle" fill="DODGERBLUE" onMouseClicked="#OnAvatarCircleClicked" radius="30.0" stroke="BLACK" strokeType="INSIDE" strokeWidth="0.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="-0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" />
                    </children>
                    <padding>
                        <Insets left="5.0" top="5.0" />
                    </padding>
                </AnchorPane>
                <VBox fx:id="user_detail_vbox" alignment="CENTER_LEFT" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" minHeight="-Infinity" minWidth="-Infinity" prefHeight="60.0" prefWidth="100.0" HBox.hgrow="ALWAYS">
                    <children>
                        <Label fx:id="user_real_name_label" onMouseClicked="#OnUserInfoBarClicked" text="name">
                            <font>
                                <Font name="System Bold" size="15.0" />
                            </font>
                        </Label>
                        <Label fx:id="username_label" onMouseClicked="#OnUserInfoBarClicked" text="username">
                            <font>
                                <Font size="13.0" />
                            </font>
<!--                            <graphic>-->
<!--                                <FontAwesomeIconView cache="true" cacheHint="SPEED" iconName="AT" selectionEnd="0" />-->
<!--                            </graphic>-->
                        </Label>
                        <JFXButton fx:id="reposted_button" graphicTextGap="5.0" onAction="#OnRepostedButtonAction" ripplerFill="ORANGE" text="Reposted From Erfan">
                            <graphic>
<!--                                <StackPane>-->
<!--                                    <FontAwesomeIconView cache="true" iconName="RETWEET" />-->
<!--                                </StackPane>-->
                            </graphic>
                            <padding>
                                <Insets left="-1.0" />
                            </padding>
                            <font>
                                <Font name="System Bold" size="12.0" />
                            </font>
                        </JFXButton>
                    </children>
                    <padding>
                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                    </padding>
                </VBox>
                <AnchorPane prefHeight="60.0" prefWidth="60.0" AnchorPane.topAnchor="0.0" AnchorPane.rightAnchor="0.0">
                    <children>
                        <!-- MenuButton -->
                        <MenuButton fx:id="options_menu_button" graphicTextGap="5.0" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" minHeight="-Infinity" minWidth="-Infinity" prefHeight="40.0" prefWidth="40.0" text="...">
                            <items>
                                <MenuItem text="Edit" onAction="#editItemAction"/>
                                <MenuItem text="Delete" onAction="#deleteItemAction"/>
                            </items>
                        </MenuButton>
                    </children>
                    <padding>
                        <Insets left="5.0" top="5.0" />
                    </padding>
                </AnchorPane>
                <JFXButton fx:id="edit_button" accessibleHelp="like" accessibleText="like" buttonType="RAISED" cache="true" contentDisplay="GRAPHIC_ONLY" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" onAction="#OnEditButtonAction" prefHeight="40.0" prefWidth="40.0" ripplerFill="ORANGE"  >
<!--                    <graphic>-->

<!--                            <ImageView fitHeight="18.0" fitWidth="18.0">-->
<!--                                <image>-->
<!--                                    <Image url="@images/edit.png" />-->
<!--                                </image>-->
<!--                            </ImageView>-->

<!--                    </graphic>-->
                </JFXButton>
            </children>
            <padding>
                <Insets bottom="5.0" />
            </padding>
        </HBox>
    </top>
    <bottom>

        <VBox alignment="BOTTOM_CENTER" prefHeight="70.0" prefWidth="700.0" BorderPane.alignment="CENTER">
            <children>
                <HBox prefHeight="40.0" prefWidth="700.0">
                    <JFXButton fx:id="likeButton" buttonType="RAISED" onAction="#likePostAction" prefHeight="30.0" prefWidth="85.0" text="Like" />
                    <JFXButton fx:id="dislikeButton" buttonType="RAISED" onAction="#dislikePostAction" prefHeight="30.0" prefWidth="85.0" text="Dislike" />
                </HBox>
                <HBox prefHeight="40.0" prefWidth="700.0">
                    <!-- Buttons -->
                    <JFXButton fx:id="allLikesButton" buttonType="RAISED" onAction="#OnAllLikesButtonAction" prefHeight="30.0" prefWidth="85.0" styleClass="all_likes_button" stylesheets="@style.css" textFill="#393939" HBox.hgrow="ALWAYS">
                        <font>
                            <Font name="System Bold" size="13.0" />
                        </font>
                    </JFXButton>
                    <JFXButton fx:id="all_comment_button" buttonType="RAISED" layoutX="10.0" layoutY="10.0" onAction="#OnAllCommentsButtonAction" prefHeight="30.0" prefWidth="133.0" styleClass="all_comments_button" stylesheets="@style.css" text="5676 Comments" textFill="GREY" HBox.hgrow="ALWAYS">
                        <font>
                            <Font size="13.0" />
                        </font>
                    </JFXButton>
                </HBox>
                <VBox fx:id="commentContainer"  spacing="10" visible="false"/>

                <!-- TextArea -->
                <TextArea fx:id="comment_text_area" prefWidth="200.0" prefHeight="100.0" promptText="Type your comment here..." visible="false" onKeyPressed="#handleCommentKeyPress" />
                <!-- Label -->
                <Label fx:id="post_creation_date_label" alignment="CENTER_RIGHT" maxHeight="1.7976931348623157E308" maxWidth="1.7976931348623157E308" prefHeight="21.0" prefWidth="100.0" text="27 november 2020" textAlignment="RIGHT" HBox.hgrow="ALWAYS">
                    <HBox.margin>
                        <Insets bottom="5.0" left="5.0" right="5.0" top="5.0" />
                    </HBox.margin>
                    <font>
                        <Font size="10.0" />
                    </font>
                </Label>
            </children>
            <opaqueInsets>
                <Insets />
            </opaqueInsets>
        </VBox>


    </bottom>


    <center>
        <VBox minHeight="-Infinity" minWidth="-Infinity" prefWidth="100.0" BorderPane.alignment="CENTER">
            <children>
                <Label fx:id="post_title_label" minHeight="-Infinity" minWidth="-Infinity" prefWidth="100.0" />

                <AnchorPane fx:id="post_image_anchor" minHeight="-Infinity">
                    <children>
                        <ImageView fx:id="post_image" cache="true" fitHeight="210.0" fitWidth="350.4" pickOnBounds="true">
                            <image>
                                <Image url="@images/post.jpg" />
                            </image>
                        </ImageView>
                    </children>
                </AnchorPane>
                <AnchorPane prefHeight="120.0" prefWidth="400.0">
                    <children>
                        <Label fx:id="post_text_label" alignment="TOP_LEFT" maxHeight="1.7976931348623157E308" prefHeight="200.0" prefWidth="400.0" text="kkkk" textOverrun="CLIP" wrapText="true" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
                            <font>
                                <Font size="13.0" />
                            </font>
                            <padding>
                                <Insets bottom="5.0" left="10.0" right="10.0" top="5.0" />
                            </padding>
                        </Label>
                    </children>
                    <padding>
                        <Insets bottom="5.0" top="5.0" />
                    </padding>
                </AnchorPane>
            </children>
        </VBox>
    </center>
    <effect>
        <DropShadow />
    </effect>
</BorderPane>
